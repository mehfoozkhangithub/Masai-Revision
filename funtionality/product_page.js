/* ALL DATA */

var allData = [
  {
    product_img:
      "https://cdn09.nnnow.com/web-images/medium/styles/NAG35MWAZB5/1603956012732/1.jpg",
    product_name: "OLAPLEX",
    product_info: "N°4 Bond Maintenance Shampoo",
    product_price: 2950,
    product_category: "Shampoo",
    product_gender: "unisex_adults",
    product_size: "250 ML",
  },
  {
    product_img:
      "https://cdn02.nnnow.com/web-images/medium/styles/WVOOED5AWF4/1634886167207/1.jpg",
    product_name: "MOROCCANOIL",
    product_info: "Extra Volume Shampoo",
    product_price: 900,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "70 ML",
  },
  {
    product_img:
      "https://cdn13.nnnow.com/web-images/medium/styles/FCNE5T2TV5T/1634887143628/1.jpg",
    product_name: "MOROCCANOIL",
    product_info: "Moisture Repair Shampoo",
    product_price: 1890,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "70 ML",
  },
  {
    product_img:
      "https://cdn13.nnnow.com/web-images/medium/styles/7TU00OK7QSV/1634888036586/1.jpg",
    product_name: "MOROCCANOIL",
    product_info: "Hydrating Shampoo",
    product_price: 2160,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "70 ML",
  },
  {
    product_img:
      "https://cdn13.nnnow.com/web-images/medium/styles/ZWAHDO65HEF/1634886962142/1.jpg",
    product_name: "MOROCCANOIL",
    product_info: "Smoothing Shampoo",
    product_price: 2160,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "70 ML",
  },
  {
    product_img:
      "https://cdn14.nnnow.com/web-images/medium/styles/ZXCZQG4LPA2/1586865417849/1.jpg",
    product_name: "Aveda",
    product_info: "Cherry Almond Softening Shampoo",
    product_price: 1300,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "200 ML",
  },
  {
    product_img:
      "https://cdn19.nnnow.com/web-images/medium/styles/PDOEXQ0ITGY/1586865417839/1.jpg",
    product_name: "Aveda",
    product_info: "Be Curly™ Shampoo",
    product_price: 2250,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "250 ML",
  },
  {
    product_img:
      "https://cdn09.nnnow.com/web-images/medium/styles/DSHD0M5WT0Z/1586865417815/1.jpg",
    product_name: "Aveda",
    product_info: "Shampure™ Nurturing Shampoo",
    product_price: 900,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "200 ML",
  },
  {
    product_img:
      "https://cdn17.nnnow.com/web-images/medium/styles/7Q8UUW0TDB4/1609913734081/1.jpg",
    product_name: "Aveda",
    product_info: "Invati Advanced™ Exfoliating Shampoo: Light",
    product_price: 2450,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "50 ML",
  },
  {
    product_img:
      "https://cdn07.nnnow.com/web-images/medium/styles/FZNDQORPYP7/1593084196276/1.jpg",
    product_name: "Aveda",
    product_info: "Rosemary Mint Purifying Shampoo",
    product_price: 1500,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "200 ML",
  },
  {
    product_img:
      "https://cdn04.nnnow.com/web-images/medium/styles/YSD5ULXMMFQ/1599723134074/1.jpg",
    product_name: "Aveda",
    product_info: "Botanical Repair™ Strengthening Shampoo",
    product_price: 2350,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "50 ML",
  },
  {
    product_img:
      "https://cdn03.nnnow.com/web-images/medium/styles/9YJY1PG9ERJ/1580451959421/1.jpg",
    product_name: "Aveda",
    product_info: "Nutriplenish™ Shampoo Light Moisture",
    product_price: 2450,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "250 ML",
  },
  {
    product_img:
      "https://cdn07.nnnow.com/web-images/medium/styles/IQO47VIMDO0/1609913734087/1.jpg",
    product_name: "Aveda",
    product_info: "Invati Advanced™ Exfoliating Shampoo: Rich",
    product_price: 2850,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "50 ML",
  },
  {
    product_img:
      "https://cdn13.nnnow.com/web-images/medium/styles/F8JPSETLF92/1586865417816/1.jpg",
    product_name: "Aveda",
    product_info: "Sap Moss Weightless Hydration Shampoo",
    product_price: 2250,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "200 ML",
  },
  {
    product_img:
      "https://cdn18.nnnow.com/web-images/medium/styles/BTCF3SBOYMY/1580451959426/1.jpg",
    product_name: "Aveda",
    product_info: "Nutriplenish™ Shampoo Deep Moisture",
    product_price: 2450,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "250 ML",
  },
  {
    product_img:
      "https://cdn01.nnnow.com/web-images/medium/styles/VFG0BF3QUVZ/1591098540177/1.jpg",
    product_name: "BRIOGEO",
    product_info: "Blossom & Bloom™ Ginseng + Biotin Volumizing Shampoo",
    product_price: 2600,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "236 ML",
  },
  {
    product_img:
      "https://cdn14.nnnow.com/web-images/medium/styles/1J0M7Q41ZYX/1583141970643/1.jpg",
    product_name: "BRIOGEO",
    product_info:
      "Scalp Revival™ Charcoal + Coconut Oil Micro-Exfoliating Shampoo",
    product_price: 4000,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "236 ML",
  },
  {
    product_img:
      "https://cdn15.nnnow.com/web-images/medium/styles/IE8GHBK73KP/1584506180651/1.jpg",
    product_name: "BRIOGEO",
    product_info: "Don't Despair, Repair!™ Super Moisture Shampoo",
    product_price: 3490,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "473 ML",
  },
  {
    product_img:
      "https://cdn02.nnnow.com/web-images/medium/styles/7R42ONJSO9Q/1591098540178/1.jpg",
    product_name: "BRIOGEO",
    product_info:
      "Be Gentle, Be Kind™ Matcha + Kale Replenishing Superfood Shampoo",
    product_price: 2700,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "369 ML",
  },
  {
    product_img:
      "https://cdn10.nnnow.com/web-images/medium/styles/WTL01K8WK1O/1583141970637/1.jpg",
    product_name: "BRIOGEO",
    product_info: "Farewell Frizz™ Smoothing Shampoo",
    product_price: 2600,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "230 ML",
  },
  {
    product_img:
      "https://cdn05.nnnow.com/web-images/medium/styles/BEXZO0YCYFT/1628848030781/1.jpg",
    product_name: "KAMA AYURVEDA",
    product_info: "Bringadi Hair Cleanser",
    product_price: 1495,
    product_category: "Shampoo",
    product_gender: "unisex",
    product_size: "200 ML",
  },
  {
    product_img:
      "https://cdn15.nnnow.com/web-images/medium/styles/AR1W4OLFL1F/1595480819778/1.jpg",
    product_name: "BRIOGEO",
    product_info: "Curl Charisma™ Rice Amino + Shea Curl Defining Conditioner",
    product_price: 2600,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "230 ML",
  },
  {
    product_img:
      "https://cdn13.nnnow.com/web-images/medium/styles/ZT4U67GH33Q/1614230606866/1.jpg",
    product_name: "KAMA AYURVEDA",
    product_info: "Himalayan Deodar Hair Cleanser",
    product_price: 1495,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "200 ML",
  },
  {
    product_img:
      "https://cdn10.nnnow.com/web-images/medium/styles/1PHLYM9TSFU/1618895102526/1.jpg",
    product_name: "Gallinee",
    product_info: "Soothing Cleansing Cream",
    product_price: 2500,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "200 ML",
  },
  {
    product_img:
      "https://cdn16.nnnow.com/web-images/medium/styles/7PFG3E79Y9B/1639719564674/1.jpg",
    product_name: "ABHATI SUISSE",
    product_info: "Imlaya Volumising Shampoo",
    product_price: 3600,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "300 ML",
  },
  {
    product_img:
      "https://cdn11.nnnow.com/web-images/medium/styles/S92JVWHVVPL/1583141970641/1.jpg",
    product_name: "BRIOGEO",
    product_info: "Scalp Revival™ Charcoal + Biotin Dry Shampoo",
    product_price: 2310,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "200 ML",
  },
  {
    product_img:
      "https://cdn10.nnnow.com/web-images/medium/styles/TPVQF8XCAI1/1639719991527/1.jpg",
    product_name: "ABHATI SUISSE",
    product_info: "Tansa Colour-Depth Shampoo",
    product_price: 3500,
    product_category: "Dry Shampoo",
    product_gender: "women",
    product_size: "250 ML",
  },
  {
    product_img:
      "https://cdn00.nnnow.com/web-images/medium/styles/BQNHJJE2HPV/1639719990723/1.jpg",
    product_name: "ABHATI SUISSE",
    product_info: "Yamuna Nourishing Shampoo",
    product_price: 3600,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "250 ML",
  },
  {
    product_img:
      "https://cdn13.nnnow.com/web-images/medium/styles/VUOADXWWHMH/1614230606907/1.jpg",
    product_name: "KAMA AYURVEDA",
    product_info: "Lavender Patchouli Hair Cleanser",
    product_price: 845,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "200 ML",
  },
  {
    product_img:
      "https://cdn13.nnnow.com/web-images/medium/styles/6RVRPRTMBGX/1614231559468/1.jpg",
    product_name: "KAMA AYURVEDA",
    product_info: "Rose And Jasmine Hair Cleanser",
    product_price: 1495,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "200 ML",
  },
  {
    product_img:
      "https://cdn09.nnnow.com/web-images/medium/styles/XAGLWJQS4RG/1614230606901/1.jpg",
    product_name: "KAMA AYURVEDA",
    product_info: "Sanobar Hair Cleanser",
    product_price: 845,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "200 ML",
  },
  {
    product_img:
      "https://cdn01.nnnow.com/web-images/medium/styles/JBI1ECO8OJV/1639719626193/1.jpg",
    product_name: "ABHATi SUISSE",
    product_info: "Yamuna Nourishing Shampoo",
    product_price: 4300,
    product_category: "Shampoo",
    product_gender: "women",
    product_size: "300 ML",
  },
];

/* FUNCTION DISPLAY DATA */
var cart_data = JSON.parse(localStorage.getItem("cart")) || [];

var favourite_Data = JSON.parse(localStorage.getItem("favourite")) || [];

function display_Data(allData) {
  document.querySelector("#container").innerHTML = "";

  allData.forEach(function (el, index) {
    var box = document.createElement("div");
    document.querySelector("#container").append(box);
    box.setAttribute("class", "box");

    var div_image_hover = document.createElement("div");
    div_image_hover.setAttribute("class", "div_image_hover");

    var image = document.createElement("img");
    image.setAttribute("src", el.product_img);
    image.setAttribute("class", "select_img");
    image.addEventListener("click", function () {
      console.log(index);
      window.location.href = "showcase_page.html";
      localStorage.setItem("showcase_data", JSON.stringify(el));
    });

    /* CODE FOR ADDING HOVER FUNCTIONALITY */

    var cart_div = document.createElement("div");
    cart_div.setAttribute("class", "cart_div");
    cart_div.style.cursor = "pointer";

    var shop = document.createElement("div");
    shop.setAttribute("class", "shop");
    shop.style.borderRadius = "10px";
    shop.style.padding = "5px";

    shop.addEventListener("click", function () {
      cart_data.push(el);
      console.log(cart_data);
      localStorage.setItem("cart", JSON.stringify(cart_data));
    });

    var icon_shop = document.createElement("i");
    icon_shop.setAttribute("class", "material-symbols-outlined");
    icon_shop.innerText = "shopping_bag";

    var span_shop = document.createElement("span");
    span_shop.innerText = "SHOP NNNOW";

    var favourite = document.createElement("div");
    favourite.setAttribute("class", "favourite");
    favourite.style.borderRadius = "10px";
    favourite.style.padding = "5px";

    favourite.addEventListener("click", function () {
      favourite_Data.push(el);
      console.log(favourite_Data);
      localStorage.setItem("favourite", JSON.stringify(favourite_Data));
    });

    var icon_favourite = document.createElement("i");
    icon_favourite.setAttribute("class", "material-symbols-outlined");
    icon_favourite.innerText = "favorite";

    var span_favourite = document.createElement("span");
    span_favourite.innerText = "FAVOURITE";

    /* HOVER CODE END HERE */

    var name = document.createElement("h3");
    name.innerText = el.product_name;

    var info = document.createElement("p");
    info.innerText = el.product_info;

    var price = document.createElement("p");
    price.innerText = "Rs. " + el.product_price;

    shop.append(icon_shop, span_shop);
    favourite.append(icon_favourite, span_favourite);
    cart_div.append(shop, favourite);
    div_image_hover.append(image, cart_div);
    box.append(div_image_hover, name, info, price);

    localStorage.setItem("Product_Data", JSON.stringify(allData));
  });
}

display_Data(allData);

/* SORT BY PRICE*/

document
  .querySelector("#sort_price")
  .addEventListener("change", function_sort_price);

function function_sort_price() {
  var selected = document.querySelector("#sort_price").value;

  if (selected == "HTL") {
    allData.sort(function (a, b) {
      return b.product_price - a.product_price;
    });
    display_Data(allData);
  }

  if (selected == "LTH") {
    allData.sort(function (a, b) {
      return a.product_price - b.product_price;
    });
    display_Data(allData);
  }
}


//search on click button
function mainbtn(){
  let data=document.getElementById('searchh').value
  var searchlist = allData.filter(function (el) {
    console.log(el.product_name.includes(data))
    return ( 
      el.product_name.includes(data) ||
      el.product_info.includes(data) ||
      // el.product_price.includes(data) ||
      el.product_category.includes(data) ||
      el.product_size.includes(data) 
     );
  });
  display_Data(searchlist );
 }
    
// after hitting enter
const ENTER_KEY_CODE = 13;
let data=document.getElementById('searchhe')
let btn=document.getElementById("enter")
data.addEventListener("keypress", mainbtne);
btn.addEventListener("click",btnfun)
function btnfun(){
  var searchlista = allData.filter(function (el) {
    console.log(el.product_name.includes(data))
    return ( 
      el.product_name.includes(data) ||
      el.product_info.includes(data) ||
      // el.product_price.includes(data) ||
      el.product_category.includes(data) ||
      el.product_size.includes(data) 
     );
  });
  display_Data(searchlista );
 
}
    

function mainbtne(e){
  e.preventDefault();
 if( e.keyCode === ENTER_KEY_CODE){
  var searchlistb = allData.filter(function (el) {
    console.log(el.product_name.includes(data))
    btn.click()
    return ( 
      el.product_name.includes(data) ||
      el.product_info.includes(data) ||
      // el.product_price.includes(data) ||
      el.product_category.includes(data) ||
      el.product_size.includes(data) 
     );
  });
  display_Data(searchlistb );
}
 }



//  let idbtn;
// function debuging(func,delay){
//       if(idbtn){
//             clearTimeout(id);
//       }
//       idbtn = setTimeout(function(){
//             func();
           
//       },delay)
// }
//end
// search
 function main(){
  let data=document.getElementById('search').value
  var searchlist = allData.filter(function (el) {
    console.log(el.product_name.includes(data))
    return ( 
      el.product_name.includes(data) ||
      el.product_info.includes(data) ||
      // el.product_price.includes(data) ||
      el.product_category.includes(data) ||
      el.product_size.includes(data) 
     );
  });
  display_Data(searchlist );
 }
    
 let id;
function debuging(func,delay){
      if(id){
            clearTimeout(id);
      }
      id = setTimeout(function(){
            func();
           
      },delay)
}
//onclick on button
//asc
document
  .querySelector("#asc")
  .addEventListener("click", function_price);
  function function_price() {
    allData.sort(function (a, b) {
      return b.product_price - a.product_price;
    });
    display_Data(allData);
  }

//des
document
.querySelector("#des")
.addEventListener("click", function_price_des)

function function_price_des() {
  allData.sort(function (a, b) {
    return a.product_price - b.product_price;
  });
  display_Data(allData);
}


/* SORT BY CATEGORY */



document
  .querySelector("#Shampoo")
  .addEventListener("click", function_sort_category_shampoo);

function function_sort_category_shampoo() {
  var filterlist = allData.filter(function (el) {
    return el.product_category == "Shampoo";
  });
  display_Data(filterlist);
}

document
  .querySelector("#Dry_Shampoo")
  .addEventListener("click", function_sort_category_dry);

function function_sort_category_dry() {
  var filterlist = allData.filter(function (el) {
    return el.product_category == "Dry Shampoo";
  });
  display_Data(filterlist);
}

document.querySelector("#onsale").addEventListener("click", function_onsale);

function function_onsale() {
  window.location.reload();
}

/* FILTER BY GENDER */

document
  .querySelector("#filter_gender")
  .addEventListener("change", function_fiter_gender);

function function_fiter_gender() {
  var selected = document.querySelector("#filter_gender").value;

  if (selected == "women") {
    var display_by_gender = allData.filter(function (el) {
      return el.product_gender == "women";
      product_size: "200 ML";
    });
    display_Data(display_by_gender);
  }

  if (selected == "unisex") {
    var display_by_gender = allData.filter(function (el) {
      return el.product_gender == "unisex";
      product_size: "200 ML";
    });
    display_Data(display_by_gender);
  }

  if (selected == "unisex_adults") {
    var display_by_gender = allData.filter(function (el) {
      return el.product_gender == "unisex_adults";
      product_size: "200 ML";
    });
    display_Data(display_by_gender);
  }
}

/* FILTER BY BRAND */

document
  .querySelector("#filter_brand")
  .addEventListener("change", fuction_filter_brand);

function fuction_filter_brand() {
  var selected = document.querySelector("#filter_brand").value;

  if (selected == "Aveda") {
    var display_by_brand = allData.filter(function (el) {
      return el.product_name == "Aveda";
    });
    display_Data(display_by_brand);
  }

  if (selected == "BRIOGEO") {
    var display_by_brand = allData.filter(function (el) {
      return el.product_name == "BRIOGEO";
    });
    display_Data(display_by_brand);
  }

  if (selected == "KAMA AYURVEDA") {
    var display_by_brand = allData.filter(function (el) {
      return el.product_name == "KAMA AYURVEDA";
    });
    display_Data(display_by_brand);
  }

  if (selected == "ABHATI SUISSE") {
    var display_by_brand = allData.filter(function (el) {
      return el.product_name == "ABHATI SUISSE";
    });
    display_Data(display_by_brand);
  }

  if (selected == "MOROCCANOIL") {
    var display_by_brand = allData.filter(function (el) {
      return el.product_name == "MOROCCANOIL";
    });
    display_Data(display_by_brand);
  }

  if (selected == "Gallinee") {
    var display_by_brand = allData.filter(function (el) {
      return el.product_name == "Gallinee";
    });
    display_Data(display_by_brand);
  }

  if (selected == "OLAPLEX") {
    var display_by_brand = allData.filter(function (el) {
      return el.product_name == "OLAPLEX";
    });
    display_Data(display_by_brand);
  }
}

/* FILTER BY PRICE */

document
  .querySelector("#filter_price")
  .addEventListener("change", function_filter_price);

function function_filter_price() {
  var selected = document.querySelector("#filter_price").value;
  console.log(selected);

  if (selected == "below 999") {
    var display_by_price = allData.filter(function (el) {
      return el.product_price < 999;
    });
    display_Data(display_by_price);
  }

  if (selected == "1000-1499") {
    var display_by_price = allData.filter(function (el) {
      return el.product_price >= 1000 && el.product_price <= 1499;
    });
    display_Data(display_by_price);
  }

  if (selected == "1500-2499") {
    var display_by_price = allData.filter(function (el) {
      return el.product_price >= 1500 && el.product_price <= 2499;
    });
    display_Data(display_by_price);
  }

  if (selected == "above 2500") {
    var display_by_price = allData.filter(function (el) {
      return el.product_price > 2500;
    });
    display_Data(display_by_price);
  }
}

/* FILTER BY SIZE */

document
  .querySelector("#filter_size")
  .addEventListener("change", fuction_filter_size);

function fuction_filter_size() {
  var selected = document.querySelector("#filter_size").value;

  if (selected == "200 ML") {
    var filter_size = allData.filter(function (el) {
      return el.product_size == "200 ML";
    });
    display_Data(filter_size);
  }

  if (selected == "236 ML") {
    var filter_size = allData.filter(function (el) {
      return el.product_size == "236 ML";
    });
    display_Data(filter_size);
  }

  if (selected == "250 ML") {
    var filter_size = allData.filter(function (el) {
      return el.product_size == "250 ML";
    });
    display_Data(filter_size);
  }

  if (selected == "300 ML") {
    var filter_size = allData.filter(function (el) {
      return el.product_size == "300 ML";
    });
    display_Data(filter_size);
  }

  if (selected == "369 ML") {
    var filter_size = allData.filter(function (el) {
      return el.product_size == "369 ML";
    });
    display_Data(filter_size);
  }

  if (selected == "473 ML") {
    var filter_size = allData.filter(function (el) {
      return el.product_size == "473 ML";
    });
    display_Data(filter_size);
  }

  if (selected == "50 ML") {
    var filter_size = allData.filter(function (el) {
      return el.product_size == "50 ML";
    });
    display_Data(filter_size);
  }

  if (selected == "70 ML") {
    var filter_size = allData.filter(function (el) {
      return el.product_size == "70 ML";
    });
    display_Data(filter_size);
  }
}

/* FILTER BY PROMOTION (Reload function only) */

document
  .querySelector("#filter_promotion")
  .addEventListener("change", fuction_filter_promotion);

function fuction_filter_promotion() {
  window.location.reload();
}
